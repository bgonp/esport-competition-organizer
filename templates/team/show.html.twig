{% extends 'base.html.twig' %}

{% block title %}Mi equipo | Round Breaker{% endblock %}

{% block content %}
<div class="row">
    <div class="col-sm-6">
        <div class="card-body">
            <h1 class="card-title sport-text">{{ team.name }}</h1>
            <ul class="list-group">
                {% for player in team.players %}
                <li class="list-group-item sport-text"><a href="{{ path('player_show', { id: player.id }) }}">
                        {{ player.username }}</a><a href="http://www.twitch.tv/{{ player.twitchName }}">
                            <i class="fab fa-twitch"></i>
                        </a>
                    </a>
                </li>
                {% endfor %}
            </ul>
            <h1>Competición:</h1>
            <ul class="list-group">
                <li class="list-group-item sport-text"><a href="{{ path('competition_show', {id: team.competition.id}) }}">{{team.competition.name}}</a></li>
                <li class="list-group-item sport-text">Organiza: <a href="{{ path('player_show', { id: team.competition.streamer.id }) }}">
                        {{ team.competition.streamer.username }}</a></li>
                {% if team.competition.heldAt %}<li class="list-group-item sport-text">Celebrado en: {{ team.competition.heldAt|toDateTimeLocal }}</li>{% endif %}
                {% if team.competition.lobbyName %}<li class="list-group-item sport-text">Lobby: {{ team.competition.lobbyName }}</li>{% endif %}
                {% if team.competition.lobbyPassword %}<li class="list-group-item sport-text">Lobby Password: {{ team.competition.lobbypassword }}</li>{% endif %}
                <li class="list-group-item sport-text">{{ team.competition.isOpen ? "Abierta" : "Cerrada" }} y {{ team.competition.isFinished ? "Terminada" : "En Curso" }}
                </li>
        </div>
    </div>
    {% if canEditName %}
    <div class="col-sm-6 p-3">
        <form method="post">
            <div class="card form-group border border-secondary p-3">
                <label for="inputName" class="sport-text-form">Eres capitán, cambia el nombre a tu equipo.</label>
                <input type="text" value="{{ team.name }}" name="name" id="inputName"
                    class="form-control form-control-lg">

                <button class="btn btn-lg btn-dark break-text-large mt-3" type="submit" id="submit-edit">
                    Cambiar!
                </button>
            </div>
        </form>
    </div>
    {% endif %}
</div>
{% endblock %}